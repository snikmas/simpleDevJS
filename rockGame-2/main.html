<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  Rock Paper Scissors
  <button onclick="game('rock')">Rock</button>
  <button onclick="game('paper')">Paper</button>
  <button onclick="game('scissors')">Scissors</button>
  <button onclick="reset()">Reset Score</button>

  <script>
    let computerMove = ''
    let result = JSON.parse(localStorage.getItem('result')) || {
        wins:0,
        loses:0,
        ties:0,
      };

    // if (!result){
    //   result = {
    //     wins:0,
    //     loses:0,
    //     ties:0,
    //   }
    // }
      
    
    console.log(JSON.parse(localStorage.getItem('result')));

    function reset() {
      result.wins = 0;
      result.loses = 0;
      result.ties = 0;
      localStorage.removeItem('result');
    }



    function pickComputerMove(){
      const randNum = Math.random();
      
      if (randNum >= 0 && randNum < 1 / 3) {
        return 'rock';
      }
      else if (randNum < 2/3) {
        return 'paper';
      }
      else 
        return 'scissors';
    }


    function game(playerMove) {
      computerMove = pickComputerMove();

      if (computerMove == playerMove) {
        result.ties++;
      } 
      
      else if (playerMove == 'rock') { // rock game
        if (computerMove == 'paper') {
          result.loses++;
        } 
        else {
          result.wins++;
        }
      }

      else if (playerMove == 'paper') { //paper game
        if (computerMove == 'rock') {
          result.wins++;
        }
        else {
          result.loses++;
        }
      }

      else { // scissors game
        if (computerMove == 'paper') {
          result.wins++;
        }
        else {
          result.loses++;
        }
      }


      localStorage.setItem('result', JSON.stringify(result));


      console.log(`Your move: ${playerMove} \nThe computers move: ${computerMove}.\nWins: ${result.wins}; Loses: ${result.loses}; Ties: ${result.ties}`);

    }


    
  </script>
</body>
</html>