<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="rockGameStyle.css">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RockGame</title>
</head>
<body>
  <h3>Rock Paper Scissors</h3>
  <button onclick="playGame('rock')" class="rock"><img class="icons" src="rock-emoji.png"></button>
  <button onclick="playGame('paper')" class="paper"><img class="icons" src="paper-emoji.png"></button>
  <button onclick="playGame('scissors')" class="scissors"><img class="icons" src="scissors-emoji.png"></button>

  <div class="results">
    <p class="winOrLose"></p>

    <p>Your move: <span class="playerMove icons"></span><br>Computer's move: <span class="compMove icons"></span></p>

    <p>Wins: <span class="wins"></span>;<br>Losses: <span class="losses"></span>;<br>Ties: <span class="ties"></span></p>
  </div>

  <button onclick="reset()" class="reset">Reset Score</button>


  <script>
    let score = JSON.parse(localStorage.getItem('score')) || {
      wins: 0,
      losses: 0,
      ties: 0,
    };
    
    let compMove = 'no data';
    let matchResult = 'no data';
    let playerMove = 'no data';
    
    function reset() {
      score.wins = 0;
      score.ties = 0;
      score.losses = 0;
      
      showResults(compMove, playerMove, matchResult);
      localStorage.removeItem('score');
    }
    
    function computer(){
      let num =  Math.random();
      
      if (num >= 0 && num < 1/3) {
        return 'rock';
      }
      else if (num < 2/3) {
        return 'paper';
      }
      else {
        return 'scissors';
      }
    }
    
    function playGame(player) {
      compMove = computer();
      matchResult = 'You lost';
      playerMove = player;

      if (compMove === playerMove) {
        score.ties++; 
        matchResult = 'Tie.';
      }
      else if (playerMove == 'paper') { // player - paper
        if (compMove == 'rock') {
          score.wins++;
          matchResult = 'You win.'
        }
        else score.losses++;
      }
      else if (playerMove == 'rock') { // player - rock
        if (compMove == 'scissors') {
          score.wins++;
          matchResult = 'You win.'
        }
        else score.losses++;
      }
      else {                          // player - scissors
        if (compMove == 'paper'){
          score.wins++;
          matchResult = 'You win.'
        }
        else score.losses++;
      };

      showResults(compMove, playerMove, matchResult);
    }
    
    function showResults(compMove, playermove, matchResult){
      document.querySelector('.playerMove').innerHTML =  `<img src="${playerMove}-emoji.png" class="icons">`;
      document.querySelector('.compMove').innerHTML =  `<img src="${compMove}-emoji.png" class="icons">`;
      document.querySelector('.wins').innerText = score.wins;
      document.querySelector('.losses').innerText = score.losses;
      document.querySelector('.ties').innerText = score.ties;
      document.querySelector('.winOrLose').innerText = matchResult;
    }


    
    localStorage.setItem('score', JSON.stringify(score));
    
    
    </script>


</body>
</html>